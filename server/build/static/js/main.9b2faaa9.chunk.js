(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{104:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){},152:function(e,t,a){},153:function(e,t,a){},154:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),c=a(68),r=a.n(c),i=a(4),l=a.n(i),u=a(6),o=a(2),j=(a(76),a(0));function b(){return Object(j.jsxs)("div",{className:"header",children:[Object(j.jsx)("div",{className:"headerTitles",children:Object(j.jsx)("span",{className:"headerTitleLg",children:"BANK"})}),Object(j.jsx)("img",{className:"headerImg",src:"https://images1.ynet.co.il/picserver5/crop_images/2020/04/02/9887566/9887566_0_45_980_552_0_large.jpg",alt:""})]})}a(78);var d=a(7);function O(e){var t=e.cost;return Object(j.jsxs)("div",{className:"cost",children:[Object(j.jsx)(d.b,{to:"/cost/".concat(t._id),className:"link",children:Object(j.jsx)("span",{className:"costTitle",children:t.description})}),Object(j.jsxs)("span",{children:[Object(j.jsx)("br",{}),new Date(t.createdAt).toDateString()]}),Object(j.jsxs)("p",{children:["user: ",t.username]}),Object(j.jsx)("br",{}),Object(j.jsxs)("p",{children:["category: ",t.category]}),Object(j.jsx)("br",{}),Object(j.jsxs)("p",{children:["sum: ",t.sum]}),Object(j.jsx)("br",{}),Object(j.jsx)(d.b,{to:"/cost/".concat(t._id),className:"link",children:"\u05e6\u05e4\u05d4 \u05d1\u05e4\u05e2\u05d5\u05dc\u05d4"}),Object(j.jsx)("hr",{})]})}a(84);function p(e){var t=e.costs;return Object(j.jsx)("div",{className:"costs",children:t.map((function(e){return Object(j.jsx)(O,{cost:e})}))})}a(85);var h=a(46),x=function(e,t){switch(t.type){case"LOGIN_START":return{user:null,isFetching:!0,error:!1};case"LOGIN_SUCCESS":return{user:t.payload,isFetching:!1,error:!1};case"LOGIN_FAILURE":return{user:null,isFetching:!1,error:!0};case"UPDATE_START":return Object(h.a)(Object(h.a)({},e),{},{isFetching:!0});case"UPDATE_SUCCESS":return{user:t.payload,isFetching:!1,error:!1};case"UPDATE_FAILURE":return{user:e.user,isFetching:!1,error:!0};case"LOGOUT":return{user:null,isFetching:!1,error:!1};default:return e}},m={user:JSON.parse(localStorage.getItem("user"))||null,isFetching:!1,error:!1},v=Object(s.createContext)(m),g=function(e){var t=e.children,a=Object(s.useReducer)(x,m),n=Object(o.a)(a,2),c=n[0],r=n[1];return Object(s.useEffect)((function(){localStorage.setItem("user",JSON.stringify(c.user))}),[c.user]),Object(j.jsx)(v.Provider,{value:{user:c.user,isFetching:c.isFetching,error:c.error,dispatch:r},children:t})},f=a(70),y=a.n(f).a.create({baseURL:""}),N=a(3);function S(){var e=Object(s.useContext)(v).user,t=Object(s.useState)([]),a=Object(o.a)(t,2),n=a[0],c=a[1],r=Object(s.useState)(),i=Object(o.a)(r,2),d=i[0],O=i[1],h=Object(s.useState)(""),x=Object(o.a)(h,2),m=x[0],g=x[1],f=Object(s.useState)(""),S=Object(o.a)(f,2),C=S[0],w=S[1],_=Object(s.useState)(""),I=Object(o.a)(_,2),k=I[0],T=I[1],E=(Object(N.f)(),function(){var t=Object(u.a)(l.a.mark((function t(a){var s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),console.log(k),t.next=4,y.get("/costs?user=".concat(e.username,"&category=").concat(m,"&month=").concat(k,"&year=").concat(C));case 4:s=t.sent,O(s.data.sum),console.log(s.data.costs),c(s.data.costs);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());return Object(s.useEffect)((function(){(function(){var t=Object(u.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==e){t.next=4;break}window.location.replace("/login"),t.next=7;break;case 4:return t.next=6,y.get("/costs?user=".concat(e.username));case 6:a=t.sent;case 7:O(a.data.sum),c(a.data.costs);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(j.jsxs)("div",{children:[Object(j.jsx)(b,{}),Object(j.jsx)("div",{}),Object(j.jsxs)("div",{className:"home",children:[Object(j.jsx)(p,{costs:n}),Object(j.jsxs)("div",{children:["TOTAL COSTS :",d]}),Object(j.jsxs)("form",{className:"settingsForm",onSubmit:E,children:[Object(j.jsx)("label",{children:"category"}),Object(j.jsx)("input",{type:"category",onChange:function(e){return g(e.target.value)}}),Object(j.jsx)("label",{children:"year"}),Object(j.jsx)("input",{type:"date.year",onChange:function(e){return w(e.target.value)}}),Object(j.jsx)("label",{children:"month"}),Object(j.jsxs)("select",{id:"drp1",onChange:function(e){return T(e.target.value)},children:[Object(j.jsx)("option",{value:"",children:" "}),Object(j.jsx)("option",{value:"Jan",children:"January"}),Object(j.jsx)("option",{value:"Feb",children:"February"}),Object(j.jsx)("option",{value:"Mar",children:"March"}),Object(j.jsx)("option",{value:"Apr",children:"April"}),Object(j.jsx)("option",{value:"May",children:"May"}),Object(j.jsx)("option",{value:"Jun",children:"June"}),Object(j.jsx)("option",{value:"Jul",children:"July"}),Object(j.jsx)("option",{value:"Aug",children:"August"}),Object(j.jsx)("option",{value:"Sep",children:"September"}),Object(j.jsx)("option",{value:"Oct",children:"October"}),Object(j.jsx)("option",{value:"Nov",children:"November"}),Object(j.jsx)("option",{value:"Dec",children:"December"})]}),Object(j.jsx)("button",{className:"settingsSubmit",type:"submit",children:"Filter"})]})]})]})}a(104),a(105);function C(){var e=Object(s.useContext)(v),t=e.user,a=e.dispatch;return Object(j.jsx)("div",{className:"navbar navbar-expand-md navbar-dark fixed-top ",children:Object(j.jsxs)("div",{class:"container-fluid",children:[Object(j.jsx)("div",{class:"navbar-brand",children:Object(j.jsx)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(j.jsx)("span",{class:"navbar-toggler-icon"})})}),Object(j.jsxs)("div",{class:"collapse navbar-collapse",id:"navbarCollapse",children:[Object(j.jsxs)("ul",{class:"navbar-nav me-auto mb-2 mb-md-0",children:[Object(j.jsx)("li",{class:"nav-item",children:Object(j.jsx)(d.b,{className:"nav-link active",to:"/",children:"HOME"})}),Object(j.jsx)("li",{class:"nav-item ",children:Object(j.jsx)(d.b,{className:"nav-link active",to:"/about",children:"ABOUT"})}),Object(j.jsx)("li",{class:"nav-item ",children:Object(j.jsx)(d.b,{className:"nav-link active",to:"/write",children:"WRITE"})}),Object(j.jsx)("li",{class:"nav-item ",onClick:function(){a({type:"LOGOUT"})},children:Object(j.jsx)(d.b,{className:"nav-link active",to:"/login",children:t&&"LOGOUT"})})]}),t?Object(j.jsx)(d.b,{className:"nav-link active",to:"/settings",children:"profile"}):Object(j.jsxs)("ul",{class:"navbar-nav me-auto mb-2 mb-md-0",children:[Object(j.jsx)("li",{class:"nav-item ",children:Object(j.jsx)(d.b,{className:"nav-link active",to:"/login",children:"LOGIN"})}),Object(j.jsx)("li",{class:"nav-item ",children:Object(j.jsx)(d.b,{className:"nav-link active ",to:"/register",children:"REGISTER"})})]})]})]})})}a(147);function w(){var e=Object(N.f)().pathname.split("/")[2],t=Object(s.useState)({}),a=Object(o.a)(t,2),n=a[0],c=a[1],r=Object(s.useContext)(v).user,i=Object(s.useState)(0),b=Object(o.a)(i,2),O=b[0],p=b[1],h=Object(s.useState)(""),x=Object(o.a)(h,2),m=x[0],g=x[1],f=Object(s.useState)(""),S=Object(o.a)(f,2),C=S[0],w=S[1],_=Object(s.useState)(!1),I=Object(o.a)(_,2),k=I[0],T=I[1];Object(s.useEffect)((function(){(function(){var t=Object(u.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.get("/costs/get-cost/"+e);case 2:a=t.sent,c(a.data),p(a.data.sum),g(a.data.description),w(a.data.category);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]);var E=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.delete("/costs/".concat(n._id),{data:{username:r.username}});case 3:window.location.replace("/"),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.put("/costs/".concat(n._id),{username:r.username,description:m,sum:O,category:C});case 3:T(!1),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{className:"singleCost",children:Object(j.jsxs)("div",{className:"singleCostWrapper",children:[k?Object(j.jsx)("input",{type:"number",value:O,className:"singleCostsumInput",autoFocus:!0,onChange:function(e){return p(e.target.value)}}):Object(j.jsxs)("h1",{className:"singleCostTitle",children:[O,n.username===(null===r||void 0===r?void 0:r.username)&&Object(j.jsxs)("div",{className:"singleCostEdit",children:[Object(j.jsx)("i",{className:"singleCostIcon far fa-edit",onClick:function(){return T(!0)}}),Object(j.jsx)("i",{className:"singleCostIcon far fa-trash-alt",onClick:E})]})]}),Object(j.jsxs)("div",{className:"singleCostInfo",children:[Object(j.jsxs)("span",{className:"singleCostAuthor",children:["Author:",Object(j.jsx)(d.b,{to:"/?users=".concat(n.username),className:"link",children:Object(j.jsxs)("b",{children:[" ",n.username]})})]}),Object(j.jsx)("span",{className:"singleCostDate",children:new Date(n.createdAt).toDateString()})]}),k?Object(j.jsx)("input",{type:"text",value:m,className:"singleCostdescriptionInput",autoFocus:!0,onChange:function(e){return g(e.target.value)}}):Object(j.jsx)("p",{className:"singleCostdescription",children:m}),k&&Object(j.jsx)("button",{className:"singleCostButton",onClick:F,children:"Update"})]})})}a(148);function _(){return Object(j.jsx)("div",{className:"single",children:Object(j.jsx)(w,{})})}a(149);function I(){return Object(j.jsxs)("div",{className:"sidebar",children:[Object(j.jsxs)("div",{className:"sidebarItem",children:[Object(j.jsx)("span",{className:"sidebarTitle",children:"ABOUT "}),Object(j.jsx)("p",{children:"yosef shaul, shilo sharabi"})]}),Object(j.jsxs)("div",{className:"sidebarItem",children:[Object(j.jsx)("span",{className:"sidebarTitle",children:"FOLLOW"}),Object(j.jsx)("div",{className:"sidebarSocial"})]})]})}a(150);function k(){var e=Object(s.useState)(0),t=Object(o.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(""),r=Object(o.a)(c,2),i=r[0],b=r[1],d=Object(s.useState)(""),O=Object(o.a)(d,2),p=O[0],h=O[1],x=Object(s.useContext)(v).user,m=function(){var e=Object(u.a)(l.a.mark((function e(t){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s={username:x.username,sum:a,description:i,category:p},e.prev=2,e.next=5,y.post("/costs/add-cost",s);case 5:e.sent,window.location.replace("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),window.alert("you need to add: sum ,description");case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{className:"container-fluid",children:Object(j.jsx)("div",{className:"write",children:Object(j.jsxs)("form",{className:"writeForm",onSubmit:m,children:[Object(j.jsxs)("div",{style:{textAlign:"center"},children:[Object(j.jsx)("input",{type:"number",placeholder:"sum",className:"writeInput",autoFocus:!0,onChange:function(e){return n(e.target.value)}}),Object(j.jsx)("input",{type:"text",placeholder:"description",className:"writeInput",autoFocus:!0,onChange:function(e){return b(e.target.value)}}),Object(j.jsx)("input",{type:"text",placeholder:"category",className:"writeInput",autoFocus:!0,onChange:function(e){return h(e.target.value)}})]}),Object(j.jsx)("button",{className:"writeSubmit",type:"submit",children:"Publish"})]})})})}a(151);function T(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(""),r=Object(o.a)(c,2),i=r[0],b=r[1],d=Object(s.useState)(""),O=Object(o.a)(d,2),p=O[0],h=(O[1],Object(s.useState)("")),x=Object(o.a)(h,2),m=(x[0],x[1]),g=Object(s.useState)(""),f=Object(o.a)(g,2),N=(f[0],f[1]),S=Object(s.useState)(""),C=Object(o.a)(S,2),w=(C[0],C[1]),_=Object(s.useState)(""),I=Object(o.a)(_,2),k=(I[0],I[1]),T=Object(s.useState)(!1),E=Object(o.a)(T,2),F=(E[0],E[1]),A=Object(s.useContext)(v),U=A.user,L=A.dispatch,D=function(){var e=Object(u.a)(l.a.mark((function e(t){var s,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),L({type:"UPDATE_START"}),s={userId:U._id,username:a,email:i,password:p},e.prev=3,e.next=6,y.put("/users/"+U._id,s);case 6:n=e.sent,F(!0),L({type:"UPDATE_SUCCESS",payload:n.data}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),L({type:"UPDATE_FAILURE"});case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{className:"settings",children:Object(j.jsxs)("div",{className:"settingsWrapper",children:[Object(j.jsx)("div",{className:"settingsTitle"}),Object(j.jsxs)("form",{className:"settingsForm",onSubmit:D,children:[Object(j.jsx)("label",{children:"Username: "}),Object(j.jsx)("label",{type:"text",placeholder:U.username,onChange:function(e){return n(e.target.value)},children:U.username}),Object(j.jsx)("label",{children:"Email: "}),Object(j.jsx)("label",{type:"email",placeholder:U.email,onChange:function(e){return b(e.target.value)},children:U.email}),Object(j.jsx)("label",{children:"first_name: "}),Object(j.jsx)("label",{type:"first_name",placeholder:U.first_name,onChange:function(e){return m(e.target.value)},children:U.first_name}),Object(j.jsx)("label",{children:"last_name: "}),Object(j.jsx)("label",{type:"last_name",placeholder:U.last_name,onChange:function(e){return N(e.target.value)},children:U.last_name}),Object(j.jsx)("label",{children:"marital_status: "}),Object(j.jsx)("label",{type:"marital_status",placeholder:U.marital_status,onChange:function(e){return w(e.target.value)},children:U.marital_status}),Object(j.jsx)("label",{children:"birthday: "}),Object(j.jsx)("label",{type:"date",placeholder:U.birthday,onChange:function(e){return k(e.target.value)},children:U.birthday})]})]})})}a(152);function E(){var e=Object(s.useRef)(),t=Object(s.useRef)(),a=Object(s.useContext)(v),n=a.dispatch,c=a.isFetching,r=function(){var a=Object(u.a)(l.a.mark((function a(s){var c;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s.preventDefault(),n({type:"LOGIN_START"}),a.prev=2,a.next=5,y.post("/auth/login",{username:e.current.value,password:t.current.value});case 5:c=a.sent,n({type:"LOGIN_SUCCESS",payload:c.data}),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(2),alert("Check Your Username Or Password"),n({type:"LOGIN_FAILURE"});case 13:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(e){return a.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"login",children:[Object(j.jsx)("span",{className:"loginTitle",children:"Login"}),Object(j.jsxs)("form",{className:"loginForm",onSubmit:r,children:[Object(j.jsx)("label",{children:"Username"}),Object(j.jsx)("input",{type:"text",className:"loginInput",placeholder:"Enter your username...",ref:e}),Object(j.jsx)("label",{children:"Password"}),Object(j.jsx)("input",{type:"password",className:"loginInput",placeholder:"Enter your password...",ref:t}),Object(j.jsx)("button",{className:"loginButton",type:"submit",disabled:c,children:"Login"})]})]})}a(153);function F(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(""),r=Object(o.a)(c,2),i=r[0],b=r[1],d=Object(s.useState)(""),O=Object(o.a)(d,2),p=O[0],h=O[1],x=Object(s.useState)(""),m=Object(o.a)(x,2),v=m[0],g=m[1],f=Object(s.useState)(""),N=Object(o.a)(f,2),S=N[0],C=N[1],w=Object(s.useState)(""),_=Object(o.a)(w,2),I=_[0],k=_[1],T=Object(s.useState)(""),E=Object(o.a)(T,2),F=E[0],A=E[1],U=Object(s.useState)(!1),L=Object(o.a)(U,2),D=L[0],R=L[1],G=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),R(!1),e.prev=2,e.next=5,y.post("/auth/register",{username:a,email:i,password:p,first_name:v,last_name:S,marital_status:I,birthday:F});case 5:e.sent.data&&window.location.replace("/login"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),R(!0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"register",children:[Object(j.jsx)("span",{className:"registerTitle",children:"Register"}),Object(j.jsxs)("form",{className:"registerForm",onSubmit:G,children:[Object(j.jsx)("label",{children:"Username"}),Object(j.jsx)("input",{type:"text",className:"registerInput",placeholder:"Enter your username...",onChange:function(e){return n(e.target.value)}}),Object(j.jsx)("label",{children:"Email"}),Object(j.jsx)("input",{type:"email",className:"registerInput",placeholder:"Enter your email...",onChange:function(e){return b(e.target.value)}}),Object(j.jsx)("label",{children:"Password"}),Object(j.jsx)("input",{type:"password",className:"registerInput",placeholder:"Enter your password...",onChange:function(e){return h(e.target.value)}}),Object(j.jsx)("label",{children:"first_name"}),Object(j.jsx)("input",{type:"text",className:"registerInput",placeholder:"Enter your first_name...",onChange:function(e){return g(e.target.value)}}),Object(j.jsx)("label",{children:"last_name"}),Object(j.jsx)("input",{type:"text",className:"registerInput",placeholder:"Enter your last_name...",onChange:function(e){return C(e.target.value)}}),Object(j.jsx)("label",{children:"marital_status"}),Object(j.jsx)("input",{type:"text",className:"registerInput",placeholder:"Enter your marital_status...",onChange:function(e){return k(e.target.value)}}),Object(j.jsx)("label",{children:"birthday"}),Object(j.jsx)("input",{type:"Date",className:"registerInput",placeholder:"Enter your birthday...",onChange:function(e){return A(e.target.value)}}),Object(j.jsx)("button",{className:"registerButton",type:"submit",children:"Register"})]}),D&&Object(j.jsx)("span",{style:{color:"red",marginTop:"10px"},children:"Something went wrong!"})]})}var A=function(){var e=Object(s.useContext)(v).user;return Object(j.jsxs)(d.a,{children:[Object(j.jsx)(C,{}),Object(j.jsxs)(N.c,{children:[Object(j.jsx)(N.a,{exact:!0,path:"/",children:Object(j.jsx)(S,{})}),Object(j.jsx)(N.a,{exact:!0,path:"/about",children:Object(j.jsx)(I,{})}),Object(j.jsx)(N.a,{path:"/register",children:e?Object(j.jsx)(S,{}):Object(j.jsx)(F,{})}),Object(j.jsx)(N.a,{path:"/login",children:e?Object(j.jsx)(S,{}):Object(j.jsx)(E,{})}),Object(j.jsx)(N.a,{path:"/write",children:e?Object(j.jsx)(k,{}):Object(j.jsx)(E,{})}),Object(j.jsx)(N.a,{path:"/settings",children:e?Object(j.jsx)(T,{}):Object(j.jsx)(E,{})}),Object(j.jsx)(N.a,{path:"/cost/:postId",children:Object(j.jsx)(_,{})})]})]})};r.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(g,{children:Object(j.jsx)(A,{})})}),document.getElementById("root"))},76:function(e,t,a){},78:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){}},[[154,1,2]]]);
//# sourceMappingURL=main.9b2faaa9.chunk.js.map